<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Aim Trainer</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }

        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js"></script>
    <script>
        // Set up the scene, camera, and renderer
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Add a light to the scene
        const light = new THREE.PointLight(0xffffff, 1, 100);
        light.position.set(10, 10, 10);
        scene.add(light);

        // Create the target sphere
        const geometry = new THREE.SphereGeometry(0.5, 32, 32);
        const material = new THREE.MeshStandardMaterial({ color: 0xff0000 });
        const target = new THREE.Mesh(geometry, material);
        scene.add(target);

        // Add a plane for reference
        const planeGeometry = new THREE.PlaneGeometry(20, 20);
        const planeMaterial = new THREE.MeshStandardMaterial({ color: 0x333333, side: THREE.DoubleSide });
        const plane = new THREE.Mesh(planeGeometry, planeMaterial);
        plane.rotation.x = Math.PI / 2;
        scene.add(plane);

        // Set the camera position
        camera.position.z = 5;

        // Score and timer
        let score = 0;
        let timeLeft = 30;

        const scoreDisplay = document.createElement('div');
        scoreDisplay.style.position = 'absolute';
        scoreDisplay.style.top = '10px';
        scoreDisplay.style.left = '10px';
        scoreDisplay.style.color = 'white';
        scoreDisplay.style.fontSize = '20px';
        scoreDisplay.textContent = `Score: ${score}`;
        document.body.appendChild(scoreDisplay);

        const timerDisplay = document.createElement('div');
        timerDisplay.style.position = 'absolute';
        timerDisplay.style.top = '40px';
        timerDisplay.style.left = '10px';
        timerDisplay.style.color = 'white';
        timerDisplay.style.fontSize = '20px';
        timerDisplay.textContent = `Time Left: ${timeLeft}s`;
        document.body.appendChild(timerDisplay);

        function moveTarget() {
            const x = (Math.random() - 0.5) * 10;
            const y = Math.random() * 5;
            const z = (Math.random() - 0.5) * 10;

            target.position.set(x, y, z);
        }

        // Game logic
        function startGame() {
            score = 0;
            timeLeft = 30;
            scoreDisplay.textContent = `Score: ${score}`;
            timerDisplay.textContent = `Time Left: ${timeLeft}s`;

            moveTarget();

            const gameInterval = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = `Time Left: ${timeLeft}s`;

                if (timeLeft <= 0) {
                    clearInterval(gameInterval);
                    alert(`Game Over! Your score: ${score}`);
                }
            }, 1000);

            renderer.domElement.addEventListener('click', (event) => {
                const mouse = new THREE.Vector2(
                    (event.clientX / window.innerWidth) * 2 - 1,
                    -(event.clientY / window.innerHeight) * 2 + 1
                );

                const raycaster = new THREE.Raycaster();
                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObject(target);

                if (intersects.length > 0) {
                    score++;
                    scoreDisplay.textContent = `Score: ${score}`;
                    moveTarget();
                }
            });
        }

        // Render loop
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }

        startGame();
        animate();

    </script>
</body>
</html>
